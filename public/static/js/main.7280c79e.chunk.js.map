{"version":3,"sources":["AppRoute.js","Auth.js","assets/sidshikh.jpg","components/AuthContainer.js","pages/Login.js","pages/Signup.js","components/mainC.Components/Header.js","components/MainContainer.js","pages/Home.js","pages/Mine.js","pages/CreatePost.js","pages/ViewPost.js","pages/EditePost.js","App.js","theme.js","index.js"],"names":["AppRoute","Component","component","can","redirect","rest","render","props","to","Auth","login","user","localStorage","setItem","token","id","name","axios","defaults","headers","common","auth","getItem","guest","logout","removeItem","getToken","useStyles","makeStyles","theme","root","height","image","backgroundImage","Image","backgroundRepeat","backgroundColor","palette","type","grey","backgroundSize","backgroundPosition","paper","margin","spacing","display","flexDirection","alignItems","AuthContainer","children","classes","Grid","container","className","CssBaseline","item","xs","sm","md","Paper","elevation","square","Box","mt","Copyright","Typography","variant","color","align","Link","href","Date","getFullYear","avatar","secondary","main","form","width","marginTop","submit","Signup","history","useHistory","useState","email","setEmail","password","setPassword","hasError","setHasError","Avatar","Alert","severity","noValidate","onSubmit","e","preventDefault","data","post","then","res","push","catch","err","response","message","TextField","required","fullWidth","label","autoComplete","autoFocus","onChange","target","value","Button","setName","ConfirmPassword","setConfirmPassword","console","log","title","flexGrow","titleAuth","marginRight","photoIcon","Header","AppBar","position","Toolbar","UserMenu","GuestMenu","passHref","IconButton","menu","setMenu","handleLogout","a","onClick","event","currentTarget","charAt","Menu","anchorEl","getContentAnchorEl","anchorOrigin","vertical","horizontal","transformOrigin","keepMounted","open","Boolean","onClose","MenuItem","paddingTop","minHeight","Main","loading","Container","maxWidth","img","borderRadius","likesContainer","favorite","fontSize","likes","disc","Home","posts","setPosts","useEffect","get","length","BasicImageList","itemData","map","lg","xm","pathname","src","alt","direction","substr","Mine","marginBottom","padding","border","borderColor","upload","cursor","CreatePost","setTitle","discr","setDiscr","setImage","imageUrl","setImageUrl","htmlFor","style","files","URL","createObjectURL","multiline","rows","FormData","append","ViewPost","setPost","likeState","setLikeState","reload","setReload","userId","location","some","_id","p","textAlign","author","imgToEdite","titleToEdite","discrToEdite","delete","imgEdite","edite","EditePost","dataHandling","put","App","path","exact","Login","React","createTheme","primary","black","error","ReactDOM","ThemeProvider","document","getElementById"],"mappings":"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","file":"static/js/main.7280c79e.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nconst AppRoute = ({component: Component,  can = () => true, redirect, ...rest }) => (\r\n    <Route {...rest} render={(props) => (\r\n        can() ? <Component {...props} /> : <Redirect to={redirect} />\r\n    )} />\r\n)\r\n\r\nexport default AppRoute; ","import axios from 'axios';\r\n//Dealing with local storage.\r\nconst Auth = {\r\n    login: user => {\r\n        localStorage.setItem('token', user.token);\r\n        localStorage.setItem('id', user.id);\r\n        localStorage.setItem('user', user.name);\r\n        // I didn't know why i doesn't work !!!\r\n        axios.defaults.headers.common['Authorization'] = user.token;\r\n    },\r\n    auth: () => localStorage.getItem('token') !== null,\r\n    guest: () => localStorage.getItem('token') === null,\r\n    logout: () => {\r\n        delete axios.defaults.headers.common['Authorization'];\r\n        localStorage.removeItem('token');\r\n        localStorage.removeItem('id');\r\n        localStorage.removeItem('user');\r\n    },\r\n    getToken: () => {\r\n        let token = localStorage.getItem('token')\r\n        return token\r\n    },\r\n}\r\n\r\nexport default Auth;","export default __webpack_public_path__ + \"static/media/sidshikh.86cba066.jpg\";","import React from 'react';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Link from '@material-ui/core/Link';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Box from '@material-ui/core/Box';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Image from \"../assets/sidshikh.jpg\"\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        height: '100vh',\r\n    },\r\n    image: {\r\n        backgroundImage: `url(${Image})` ,\r\n        backgroundRepeat: 'no-repeat',\r\n        backgroundColor:\r\n        theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[900],\r\n        backgroundSize: \"cover\",\r\n        backgroundPosition: 'center',\r\n    },\r\n    paper: {\r\n        margin: theme.spacing(8, 4),\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n    },\r\n    \r\n}));\r\n\r\nexport default function AuthContainer({children}) {\r\n    const classes = useStyles();\r\n\r\n  return (\r\n    <Grid container  className={classes.root}>\r\n      <CssBaseline />\r\n        <Grid item xs={false} sm={4} md={7} className={classes.image} />\r\n      <Grid item xs={12} sm={8} md={5} component={Paper} elevation={6} square>\r\n        <div className={classes.paper}>\r\n          {children}\r\n        </div>\r\n        <Box mt={5}>\r\n              <Copyright />\r\n        </Box>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nfunction Copyright() {\r\n    return (\r\n        <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n        {'Copyright Â© '}\r\n        <Link color=\"inherit\" href=\"#\">\r\n            Jagu Gallery\r\n        </Link>{' '}\r\n        {new Date().getFullYear()}\r\n        {'.'}\r\n        </Typography>\r\n    );\r\n}","import React from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Link from '@material-ui/core/Link';\r\nimport Box from '@material-ui/core/Box';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport { AuthContainer } from '../components';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { useState } from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport axios from 'axios';\r\nimport Auth from \"../Auth\";\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    avatar: {\r\n        margin: theme.spacing(1),\r\n        backgroundColor: theme.palette.secondary.main,\r\n    },\r\n    form: {\r\n        width: '100%', \r\n        marginTop: theme.spacing(1),\r\n    },\r\n    submit: {\r\n        margin: theme.spacing(3, 0, 2),\r\n    },\r\n}));\r\n\r\nexport default function Signup() {\r\n    const classes = useStyles();\r\n    const history = useHistory();\r\n\r\n    const [email, setEmail] = useState()\r\n    const [password, setPassword] = useState()\r\n    const [hasError, setHasError] = useState(false)\r\n\r\n    const onSubmit =  (e) => {\r\n      e.preventDefault();\r\n      \r\n      let data = { email, password }\r\n\r\n      axios.post('/api/auth', data)\r\n\r\n      .then(res => {\r\n        Auth.login(res.data);\r\n        history.push(\"/mine\");\r\n      }).catch(err => {\r\n          setHasError(err.response.data.message)\r\n      });\r\n    }\r\n\r\n  return (\r\n    <AuthContainer>\r\n          <Avatar className={classes.avatar}>\r\n            <LockOutlinedIcon />\r\n          </Avatar>\r\n          <Typography component=\"h1\" variant=\"h5\">\r\n            Login\r\n          </Typography>\r\n          {\r\n            hasError && \r\n            <Box marginTop={2}>\r\n                <Alert severity='error'>\r\n                    <Typography component=\"p\">\r\n                        {hasError}\r\n                    </Typography>\r\n                </Alert>\r\n            </Box>\r\n          }\r\n          <form className={classes.form} noValidate onSubmit={onSubmit}>\r\n            <TextField\r\n              variant=\"outlined\"\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              id=\"email\"\r\n              label=\"Email Address\"\r\n              name=\"email\"\r\n              autoComplete=\"email\"\r\n              autoFocus\r\n              onChange={e => {setEmail(e.target.value) \r\n                            setHasError(false)}}\r\n            />\r\n            <TextField\r\n              variant=\"outlined\"\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              name=\"password\"\r\n              label=\"Password\"\r\n              type=\"password\"\r\n              id=\"password\"\r\n              autoComplete=\"current-password\"\r\n              onChange={e => {setPassword(e.target.value)\r\n                setHasError(false)} }\r\n            />\r\n            <Button\r\n              type=\"submit\"\r\n              fullWidth\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              className={classes.submit}\r\n            >\r\n              Login\r\n            </Button>\r\n            <Grid container>\r\n              <Grid item>\r\n                <Link href=\"signup\" variant=\"body2\">\r\n                  {\"Don't have an account!! Sign Up\"}\r\n                </Link>\r\n              </Grid>\r\n            </Grid>\r\n            <Grid container>\r\n              <Grid item>\r\n                <Link href=\"/\" variant=\"body2\">\r\n                  {\"home\"}\r\n                </Link>\r\n              </Grid>\r\n            </Grid>\r\n          </form>\r\n        </AuthContainer>\r\n  );\r\n}\r\n\r\n","import React from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Link from '@material-ui/core/Link';\r\nimport Box from '@material-ui/core/Box';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport { AuthContainer } from '../components';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { useState } from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport axios from 'axios';\r\nimport Auth from \"../Auth\";\r\n\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    \r\n    avatar: {\r\n        margin: theme.spacing(1),\r\n        backgroundColor: theme.palette.secondary.main,\r\n    },\r\n    form: {\r\n        width: '100%', \r\n        marginTop: theme.spacing(1),\r\n    },\r\n    submit: {\r\n        margin: theme.spacing(3, 0, 2),\r\n    },\r\n}));\r\n\r\nexport default function Signup() {\r\n    const classes = useStyles();\r\n    const history = useHistory();\r\n\r\n    const [name, setName] = useState()\r\n    const [email, setEmail] = useState()\r\n    const [password, setPassword] = useState()\r\n    const [ConfirmPassword, setConfirmPassword] = useState()\r\n    const [hasError, setHasError] = useState(false)\r\n\r\n    const onSubmit =  (e) => {\r\n        e.preventDefault();\r\n\r\n        if( !name || !email || !password ){\r\n          setHasError(\"All form fields are required\");\r\n          return\r\n        }\r\n\r\n        if(password !== ConfirmPassword) {\r\n            setHasError(\"please confirm password\")\r\n            return\r\n        }\r\n        \r\n        let data = {name, email, password}\r\n\r\n        axios.post('/api/auth/signup', data)\r\n\r\n        .then(res => {\r\n          Auth.login(res.data);\r\n          history.push(\"/mine\");\r\n        }).catch(err => {\r\n          console.log(err)\r\n            setHasError(err.response.data.message)\r\n        });\r\n    }\r\n\r\n  return (\r\n    <AuthContainer>\r\n      <Avatar className={classes.avatar}>\r\n        <LockOutlinedIcon />\r\n      </Avatar>\r\n      <Typography component=\"h1\" variant=\"h5\">\r\n        Sign Up\r\n      </Typography>\r\n      {\r\n            hasError && \r\n            <Box marginTop={2}>\r\n                <Alert severity='error'>\r\n                    <Typography component=\"p\" >\r\n                        {hasError}\r\n                    </Typography>\r\n                </Alert>\r\n            </Box>\r\n        }\r\n      <form className={classes.form} noValidate onSubmit={onSubmit}>\r\n        <TextField\r\n          variant=\"outlined\"\r\n          margin=\"normal\"\r\n          required\r\n          fullWidth\r\n          label=\"Name\"\r\n          name=\"name\"\r\n          autoFocus\r\n          onChange={e => {setName(e.target.value)\r\n                        setHasError(false)}}\r\n        />\r\n        <TextField\r\n          variant=\"outlined\"\r\n          margin=\"normal\"\r\n          required\r\n          fullWidth\r\n          id=\"email\"\r\n          label=\"Email Address\"\r\n          name=\"email\"\r\n          autoComplete=\"email\"\r\n          autoFocus\r\n          onChange={e => {setEmail(e.target.value) \r\n                        setHasError(false)}}\r\n        />\r\n        <TextField\r\n          variant=\"outlined\"\r\n          margin=\"normal\"\r\n          required\r\n          fullWidth\r\n          name=\"password\"\r\n          label=\"Password\"\r\n          type=\"password\"\r\n          id=\"password\"\r\n          autoComplete=\"current-password\"\r\n          onChange={e => {setPassword(e.target.value)\r\n            setHasError(false)} }\r\n        />\r\n        <TextField\r\n          variant=\"outlined\"\r\n          margin=\"normal\"\r\n          required\r\n          fullWidth\r\n          name=\"password\"\r\n          label=\"Confirm Password\"\r\n          type=\"password\"\r\n          id=\"password\"\r\n          autoComplete=\"current-password\"\r\n          onChange={e => {setConfirmPassword(e.target.value)\r\n                        setHasError(false)}}\r\n        />\r\n        <Button\r\n          type=\"submit\"\r\n          fullWidth\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          className={classes.submit}\r\n        >\r\n          Sign Up\r\n        </Button>\r\n        <Grid container>\r\n          <Grid item>\r\n            <Link href=\"login\" variant=\"body2\">\r\n              {\"Login\"}\r\n            </Link>\r\n          </Grid>\r\n        </Grid>\r\n        <Grid container>\r\n          <Grid item>\r\n            <Link href=\"/\" variant=\"body2\">\r\n              {\"home\"}\r\n            </Link>\r\n          </Grid>\r\n        </Grid>\r\n      </form>\r\n    </AuthContainer>\r\n  );\r\n}","import { useState } from 'react';\r\nimport { \r\n        makeStyles, \r\n        AppBar, \r\n        Toolbar,\r\n        Button, \r\n        IconButton, \r\n        Avatar, \r\n        Menu, \r\n        MenuItem ,\r\n        Link as MuiLink,\r\n        Box\r\n        } from '@material-ui/core'\r\nimport Auth from \"../../Auth\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport AddAPhotoIcon from '@material-ui/icons/AddAPhoto';\r\nimport HomeIcon from '@material-ui/icons/Home';\r\nimport PersonIcon from '@material-ui/icons/Person';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    title: {\r\n        flexGrow: 1,\r\n            color: \"white\"\r\n    },\r\n    titleAuth: {\r\n        marginRight: theme.spacing(4),\r\n        color: \"white\"\r\n    },\r\n    photoIcon: {\r\n        marginRight: \"auto\"\r\n    }\r\n}))\r\n\r\n\r\nexport default function Header() {\r\n    const user = localStorage.getItem(\"user\");\r\n    \r\n    return (\r\n        <AppBar  position=\"static\" color=\"primary\">\r\n                <Toolbar>\r\n                    {\r\n                        user ? <UserMenu user={user} /> : <GuestMenu/>\r\n                    }\r\n                </Toolbar>\r\n        </AppBar>\r\n    )\r\n}\r\n\r\nfunction GuestMenu() {\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <>\r\n            <MuiLink href=\"/\" passHref className={classes.title}> \r\n                <IconButton>\r\n                    <HomeIcon />\r\n                </IconButton>\r\n            </MuiLink>\r\n            <MuiLink href='/login' passHref>\r\n                <Button variant=\"outlined\">\r\n                    Login\r\n                </Button>\r\n            </MuiLink>\r\n        </>\r\n    )\r\n}\r\n\r\nfunction UserMenu({user}) {\r\n    const classes = useStyles();\r\n    const history = useHistory();\r\n\r\n    const [menu, setMenu] = useState(null)\r\n    const handleMenu = (event) => setMenu(event.currentTarget)\r\n    const handleClose = () => setMenu(null)\r\n\r\n    const handleLogout = async () => {\r\n        setMenu(null)\r\n        await Auth.logout();\r\n        await history.push(\"/\");\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <MuiLink href=\"/\" passHref className={classes.titleAuth}> \r\n                <IconButton>\r\n                    <HomeIcon />\r\n                </IconButton>\r\n            </MuiLink>\r\n            <MuiLink href=\"/mine\" passHref className={classes.titleAuth}> \r\n                <IconButton>\r\n                    <PersonIcon />\r\n                </IconButton>\r\n            </MuiLink>\r\n            <MuiLink href='/createpost'  className={classes.photoIcon} >\r\n                <IconButton>\r\n                    <AddAPhotoIcon />\r\n                </IconButton>\r\n            </MuiLink>\r\n            {user}\r\n            <IconButton\r\n                aria-label=\"account of current user\"\r\n                aria-controls=\"menu-appbar\"\r\n                aria-haspopup=\"true\"\r\n                onClick={handleMenu}\r\n                color=\"inherit\"\r\n            >\r\n                <Avatar >\r\n                    <Box className={classes.title}>{user?.charAt(0)}</Box>\r\n                </Avatar>\r\n            </IconButton>\r\n            <Menu\r\n                id=\"menu-appbar\"\r\n                anchorEl={menu}\r\n                getContentAnchorEl={null}\r\n                anchorOrigin={{\r\n                    vertical: 'bottom',\r\n                    horizontal: 'right',\r\n                }}\r\n                transformOrigin={{\r\n                    vertical: 'top',\r\n                    horizontal: 'right',\r\n                }}\r\n                keepMounted\r\n                open={Boolean(menu)}\r\n                onClose={handleClose}\r\n            >\r\n                <MuiLink href='/profile' passHref color=\"inherit\">\r\n                    <MenuItem>\r\n                        profile\r\n                    </MenuItem>\r\n                </MuiLink>\r\n                <MenuItem onClick={handleLogout}>\r\n                    logout\r\n                </MenuItem>\r\n            </Menu>\r\n        </>\r\n    )\r\n}","import { makeStyles, Container, Paper, CssBaseline } from '@material-ui/core'\r\nimport Header from \"./mainC.Components/Header\"\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    container: {\r\n        paddingTop: \"25px\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        alignItems: \"center\",\r\n        minHeight: \"100vh\"\r\n    },\r\n}))\r\n\r\nexport default function Main({children, loading}) {\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <>\r\n            <CssBaseline />\r\n            <Header/>\r\n            <Container maxWidth=\"false\" component={Paper} className={classes.container}>\r\n                {children}\r\n            </Container>        \r\n        </>\r\n    )\r\n}","import React from \"react\";\r\nimport MainContainer from \"../components/MainContainer\"\r\nimport { makeStyles, Grid, Typography, Button} from \"@material-ui/core\";\r\nimport FavoriteOutlinedIcon from '@material-ui/icons/FavoriteOutlined';\r\nimport { useEffect, useState } from \"react\";\r\nimport {Link} from 'react-router-dom';\r\nimport axios from \"axios\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    img: {\r\n        width: \"100%\",\r\n        height: \"100%\",\r\n        borderRadius: \"20px\"\r\n    },\r\n    likesContainer: {\r\n        margin: \"5px 0 10px 10px\",\r\n    },\r\n    favorite: {\r\n        margin: \"17px 5px 5px 5px\",\r\n        fontSize: 15\r\n    },\r\n    likes: {\r\n        marginTop: \"12px\"\r\n    },\r\n    disc: {\r\n        margin: \"16px 0 0 20px\"\r\n    }\r\n}));\r\n\r\nexport default function Home() {\r\n    const [posts, setPosts] = useState([]);\r\n    \r\n    useEffect(() => {\r\n        axios.get('/api/posts')\r\n\r\n        .then(res => {\r\n            setPosts(res.data);\r\n        })\r\n\r\n        .catch(err => {\r\n            console.log(err)\r\n        });\r\n    }, []);\r\n\r\n    if(posts.length < 1){\r\n        return (\r\n        <MainContainer>\r\n            <h1>No posts yet!</h1>\r\n        </MainContainer>\r\n        )\r\n    }\r\n    if(!posts){\r\n        return (\r\n        <MainContainer>\r\n            <h1>loading...</h1>\r\n        </MainContainer>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <MainContainer>\r\n            <BasicImageList itemData={posts}/>\r\n        </MainContainer>\r\n    )\r\n}\r\n\r\nfunction BasicImageList({itemData}) {\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <>\r\n            {\r\n                itemData.map((item) => (\r\n                    <Grid item lg={8} sm={10} xm={12} key={item.id} >\r\n                        <div>\r\n                            <Button>\r\n                                <Link to={{\r\n                                    pathname: '/viewpost',\r\n                                    id: item.id\r\n                                }}>\r\n                                    <img src={`uploads/${item.img}`} alt={item.title} className={classes.img}/>\r\n                                </Link>\r\n                            </Button>\r\n                        </div>\r\n                        \r\n                        <Grid container direction=\"row\" className={classes.likesContainer}>\r\n                            <Typography variant=\"h6\" className={classes.likes} >\r\n                                {item.likes?.length} \r\n                            </Typography>\r\n                            <FavoriteOutlinedIcon fontSize=\"small\" className={classes.favorite}/>\r\n                        </Grid>\r\n                        <Grid container direction=\"row\" className={classes.likesContainer}>\r\n                            <Typography variant=\"h4\" >\r\n                                {item.title}\r\n                            </Typography>\r\n                            <Typography variant=\"p\"  className={classes.disc}  >\r\n                                {item.title.substr(0,50) + \"...\"} \r\n                            </Typography>\r\n                        </Grid>\r\n                    </Grid>\r\n                ))\r\n            }\r\n        </>\r\n    );\r\n}","import React from \"react\";\r\nimport MainContainer from \"../components/MainContainer\"\r\nimport { makeStyles, Grid, Typography, Button} from \"@material-ui/core\";\r\nimport FavoriteOutlinedIcon from '@material-ui/icons/FavoriteOutlined';\r\nimport { useEffect, useState } from \"react\";\r\nimport {Link} from 'react-router-dom';\r\nimport axios from \"axios\";\r\nimport Auth from \"../Auth\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    img: {\r\n        width: \"100%\",\r\n        height: \"100%\",\r\n        borderRadius: \"20px\"\r\n    },\r\n    likesContainer: {\r\n        margin: \"5px 0 10px 10px\",\r\n    },\r\n    favorite: {\r\n        margin: \"17px 5px 5px 5px\",\r\n        fontSize: 15\r\n    },\r\n    likes: {\r\n        marginTop: \"12px\"\r\n    },\r\n    disc: {\r\n        margin: \"16px 0 0 20px\"\r\n    }\r\n}));\r\n\r\nexport default function Mine() {\r\n    const [posts, setPosts] = useState([]);\r\n\r\n    useEffect(() => {\r\n        axios.get('/api/posts/mine', {\r\n          headers: {\r\n            'Authorization': Auth.getToken() \r\n          }\r\n        })\r\n\r\n        .then(res => {\r\n            setPosts(res.data);\r\n        })\r\n\r\n        .catch(err => {\r\n            \r\n        });\r\n    }, []);\r\n\r\n    if(posts.length < 1){\r\n      return (\r\n      <MainContainer>\r\n          <h1>No posts yet!</h1>\r\n      </MainContainer>\r\n      )\r\n    }\r\n    if(!posts){\r\n        return (\r\n        <MainContainer>\r\n            <h1>loading...</h1>\r\n        </MainContainer>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <MainContainer>\r\n            <BasicImageList itemData={posts}/>\r\n        </MainContainer>\r\n    )\r\n}\r\n\r\nfunction BasicImageList({itemData}) {\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <>\r\n            {\r\n                itemData.map((item) => (\r\n                    <Grid item lg={8} sm={10} xm={12} key={item.id} >\r\n                        <div>\r\n                            <Button>\r\n                                <Link to={{\r\n                                    pathname: '/viewpost',\r\n                                    id: item.id\r\n                                }}>\r\n                                    <img src={`uploads/${item.img}`} alt={item.title} className={classes.img}/>\r\n                                </Link>\r\n                            </Button>\r\n                        </div>\r\n                        \r\n                        <Grid container direction=\"row\" className={classes.likesContainer}>\r\n                            <Typography variant=\"h6\" className={classes.likes} >\r\n                                {item.likes.length} \r\n                            </Typography>\r\n                            <FavoriteOutlinedIcon fontSize=\"small\" className={classes.favorite}/>\r\n                        </Grid>\r\n                        <Grid container direction=\"row\" className={classes.likesContainer}>\r\n                            <Typography variant=\"h4\" >\r\n                                {item.title}\r\n                            </Typography>\r\n                            <Typography variant=\"p\"  className={classes.disc}  >\r\n                                {item.title.substr(0,50) + \"...\"} \r\n                            </Typography>\r\n                        </Grid>\r\n                    </Grid>\r\n                ))\r\n            }\r\n        </>\r\n    );\r\n}","import { Grid, Button, makeStyles, TextField, Typography, Box} from \"@material-ui/core\";\r\nimport AddAPhotoIcon from '@material-ui/icons/AddAPhoto';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport MainContainer from \"../components/MainContainer\";\r\nimport { useState } from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport axios from 'axios';\r\nimport Auth from \"../Auth\";\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  img: {\r\n      width: \"70%\",\r\n      borderRadius: \"20px\",\r\n      marginBottom: \"10px\"\r\n  },\r\n  form: {\r\n    padding: \"10px\",\r\n    margin: \"10px\",\r\n    border: \"1px solid\",\r\n    borderColor: theme.palette.secondary.main,\r\n    borderRadius: \"4px\"\r\n  },\r\n  upload: {\r\n    cursor: \"pointer\"\r\n  }\r\n}));\r\n\r\nexport default function CreatePost(){\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n\r\n  const [title, setTitle] = useState();\r\n  const [discr, setDiscr] = useState();\r\n  const [image, setImage] = useState();\r\n  const [imageUrl, setImageUrl] = useState();\r\n  const [hasError, setHasError] = useState();\r\n\r\n  const handleChange = e => {\r\n    if (e.target.files.length) {\r\n      setImageUrl(URL.createObjectURL(e.target.files[0]));\r\n      setImage(e.target.files[0])\r\n    }\r\n  };\r\n  \r\n  const onSubmit = () => {\r\n    if( !image || !title || !discr ){\r\n      setHasError(\"please upload the pic and the other data\");\r\n      return\r\n    }\r\n\r\n    const data = new FormData();\r\n    data.append('title', title);\r\n    data.append('discr', discr);\r\n    data.append('image', image, image.name);\r\n    \r\n    axios.post(\"/api/posts\", data, {\r\n      headers: {\r\n        'Authorization': Auth.getToken() \r\n      }\r\n    })\r\n\r\n    .then(res => { \r\n      history.push(\"/mine\");  \r\n    }).catch(err => {\r\n        setHasError(err.response.data.message)\r\n    });\r\n  }\r\n\r\n\r\n  return (\r\n    <MainContainer>\r\n        {\r\n          image && <img src={imageUrl} alt=\"pic\" className={classes.img}/>\r\n        }\r\n        <Grid container  md={8} alignItems=\"center\" direction=\"column\" className={classes.form}>\r\n          <label htmlFor=\"upload-button\" className={classes.upload}>\r\n                <AddAPhotoIcon/>\r\n          </label>\r\n          {\r\n            hasError && \r\n            <Box marginTop={2}>\r\n                <Alert severity='error'>\r\n                    <Typography component=\"p\">\r\n                        {hasError}\r\n                    </Typography>\r\n                </Alert>\r\n            </Box>\r\n          }\r\n          <input\r\n            type=\"file\"\r\n            id=\"upload-button\"\r\n            style={{ display: \"none\" }}\r\n            onChange={handleChange}\r\n          />\r\n          <br />\r\n          <TextField \r\n            margin=\"normal\"\r\n            label=\"title\" \r\n            variant=\"outlined\"\r\n            required\r\n            fullWidth\r\n            onChange={e => {setTitle(e.target.value) \r\n                            setHasError(false)}}\r\n          />\r\n          <TextField\r\n            margin=\"normal\"\r\n            label=\"description\"\r\n            multiline\r\n            rows={4}\r\n            variant=\"outlined\"\r\n            fullWidth\r\n            onChange={e => {setDiscr(e.target.value) \r\n                            setHasError(false)}}\r\n          />\r\n          <Button variant=\"contained\" color=\"secondary\" onClick={onSubmit} >\r\n            save\r\n          </Button>\r\n        </Grid>\r\n    </MainContainer>\r\n  )\r\n}\r\n","import { Grid, Button, Box, Typography, makeStyles } from \"@material-ui/core\";\r\nimport FavoriteOutlinedIcon from '@material-ui/icons/FavoriteOutlined';\r\nimport EditOutlinedIcon from '@material-ui/icons/EditOutlined';\r\nimport DeleteOutlineOutlinedIcon from '@material-ui/icons/DeleteOutlineOutlined';\r\nimport MainContainer from \"../components/MainContainer\";\r\nimport { useState, useEffect } from 'react';\r\nimport { Link , useHistory} from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport Auth from \"../Auth\";\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  img: {\r\n      width: \"100%\",\r\n      borderRadius: \"20px\",\r\n      marginBottom: \"10px\"\r\n  },\r\n  likesContainer: {\r\n      margin: \"5px 0 10px 10px\",\r\n  },\r\n  favorite: {\r\n      margin: \"17px 5px 5px 5px\",\r\n      fontSize: 15\r\n  },\r\n  likes: {\r\n      marginTop: \"12px\"\r\n  },\r\n  disc: {\r\n      margin: \"16px 0 0 20px\"\r\n  }\r\n}));\r\n\r\nexport default function ViewPost(props){\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n\r\n  const [post, setPost] = useState();\r\n  const [likeState, setLikeState] = useState(true);\r\n  const [reload, setReload] = useState(true);\r\n\r\n  let userId = localStorage.getItem('id')\r\n\r\n  function checkLike(likes) {\r\n    if(likes.some(likes => likes._id === userId)){\r\n          setLikeState(false);\r\n      } else{\r\n          setLikeState(true);\r\n      }\r\n    }\r\n\r\n  useEffect(() => {\r\n      const { id } = props.location;\r\n\r\n      axios.get('/api/posts/'+id)\r\n\r\n      .then(res => {\r\n          setPost(res.data); \r\n          checkLike(res.data?.likes);\r\n      })\r\n\r\n      .catch(err => {\r\n          console.log(err)\r\n      });\r\n  }, [reload]); // eslint-disable-line react-hooks/exhaustive-deps \r\n\r\n  function deletePost(){\r\n    axios.delete(\"/api/posts/\"+post.id, {\r\n      headers: {\r\n        'Authorization': Auth.getToken() \r\n      }\r\n    })\r\n    .then(res => {\r\n      history.push(\"/\");   \r\n    })\r\n    .catch(err => {\r\n      console.log(err);      \r\n    })\r\n  }\r\n\r\n  function onClikeLike(){\r\n      if(likeState) {\r\n        axios.post('api/likes/'+post.id, likeState, {\r\n          headers: {\r\n            'Authorization': Auth.getToken() \r\n          }\r\n        })\r\n\r\n        .catch(err => {\r\n          console.log(err)\r\n        })\r\n        setReload(!reload)\r\n      } else {\r\n        axios.post('api/likes/delete/'+post.id, likeState, {\r\n          headers: {\r\n            'Authorization': Auth.getToken() \r\n          }\r\n        })\r\n  \r\n        .catch(err => {\r\n          console.log(err)\r\n        })\r\n        setReload(!reload)\r\n      }\r\n  }\r\n  \r\n  if(!post){\r\n    return (\r\n      <MainContainer>\r\n        <h1>loading..</h1>\r\n      </MainContainer>\r\n    )\r\n  }\r\n\r\n  let auth = Auth.auth();\r\n\r\n  return (\r\n    <MainContainer>\r\n        {\r\n          post.img && \r\n          <img src={`uploads/${post.img}`} alt=\"pic\" className={classes.img}/>\r\n        }\r\n        <Grid container direction=\"row\" className={classes.likesContainer}>\r\n            {\r\n                auth &&\r\n                <Button onClick={onClikeLike}>\r\n                    <FavoriteOutlinedIcon fontSize=\"large\" />\r\n                </Button>\r\n            }\r\n            <Typography variant=\"h6\" className={classes.likes} >\r\n                {post?.likes.length} \r\n            </Typography>\r\n            <FavoriteOutlinedIcon fontSize=\"small\" className={classes.favorite}/>\r\n        </Grid>\r\n        <Box p={2} textAlign=\"center\">\r\n          <Typography variant=\"h4\" >\r\n                {post.title}\r\n          </Typography>\r\n          <Typography variant=\"p\"  className={classes.disc}>\r\n              {post.discr} \r\n          </Typography>\r\n        </Box>\r\n        {\r\n          post?.author?.id === localStorage.getItem(\"id\") && \r\n          <Grid container direction=\"row\" alignItems=\"center\">\r\n            <Box p={2}>\r\n              <Link to={{\r\n                  pathname: '/editepost',\r\n                  data: {\r\n                    id: post.id, \r\n                    imgToEdite: post.img, \r\n                    titleToEdite: post.title, \r\n                    discrToEdite: post.discr\r\n                    }\r\n              }}>\r\n              <Button margin={4} variant=\"outlined\">\r\n                <EditOutlinedIcon fontSize=\"large\" color=\"primary\"/> \r\n              </Button>\r\n              </Link>\r\n            </Box>\r\n            <Box p={2}>\r\n              <Button margin={4} variant=\"outlined\" onClick={deletePost }>\r\n                <DeleteOutlineOutlinedIcon fontSize=\"large\" color=\"primary\"/> \r\n              </Button>\r\n            </Box>\r\n          </Grid>\r\n        }\r\n    </MainContainer>\r\n  )\r\n}\r\n\r\n","import { Grid, Button, Box, Typography, makeStyles, TextField } from \"@material-ui/core\";\r\nimport AddAPhotoIcon from '@material-ui/icons/AddAPhoto';\r\nimport MainContainer from \"../components/MainContainer\";\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport { useState, useEffect } from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport Auth from \"../Auth\";\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  imgEdite: {\r\n      width: \"50%\",\r\n      borderRadius: \"20px\",\r\n      marginBottom: \"10px\"\r\n  },\r\n  edite: {\r\n    padding: \"10px\",\r\n    margin: \"10px\",\r\n    border: \"1px solid\",\r\n    borderColor: theme.palette.secondary.main,\r\n    borderRadius: \"4px\"\r\n  },\r\n  upload: {\r\n    cursor: \"pointer\"\r\n  }\r\n}));\r\n\r\nexport default function EditePost(props) {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n\r\n  const [title, setTitle] = useState();\r\n  const [discr, setDiscr] = useState();\r\n  const [image, setImage] = useState();\r\n  const [imageUrl, setImageUrl] = useState();\r\n  const [hasError, setHasError] = useState();\r\n\r\n  useEffect(() => {\r\n    dataHandling();\r\n  }, []) // eslint-disable-line react-hooks/exhaustive-deps \r\n\r\n  const dataHandling = () => {\r\n    const {titleToEdite, discrToEdite, imgToEdite}  = props.location.data;\r\n    setTitle(titleToEdite);\r\n    setDiscr(discrToEdite);\r\n    setImage(imgToEdite);\r\n  }\r\n\r\n  const handleChange = e => {\r\n    if (e.target.files.length) {\r\n      setImageUrl(URL.createObjectURL(e.target.files[0]));\r\n      setImage(e.target.files[0])\r\n    }\r\n  };\r\n  \r\n  const onSubmit = () => {\r\n    const id  = props.location.data.id;\r\n    if( !image || !title || !discr ){\r\n      setHasError(\"please upload the pic and the other data\");\r\n      return\r\n    }\r\n    const data = new FormData();\r\n    data.append('title', title);\r\n    data.append('discr', discr);\r\n    data.append('image', image, image.name);\r\n    \r\n    axios.put(\"/api/posts/\"+id , data, {\r\n      headers: {\r\n        'Authorization': Auth.getToken() \r\n      }\r\n    })\r\n\r\n    .then(res => {\r\n        history.push(\"/\");\r\n    })\r\n    .catch(err => {\r\n        setHasError(err.response.data.message)\r\n    });\r\n  }\r\n\r\n  return (\r\n    <MainContainer>\r\n      <Grid container  md={8} alignItems=\"center\" direction=\"column\" className={classes.edite}>\r\n        <Box p={4}>\r\n          <p>please reload the image so you can edite post</p>\r\n        </Box>\r\n        {\r\n          imageUrl ? <img src={imageUrl} alt=\"pic\" className={classes.imgEdite}/>\r\n                    : <img src={`uploads/${image}`} alt=\"pic\" className={classes.imgEdite}/>\r\n        }\r\n        <label htmlFor=\"upload-button\" className={classes.upload}>\r\n              <AddAPhotoIcon/>\r\n        </label>\r\n        {\r\n          hasError && \r\n          <Box marginTop={2}>\r\n              <Alert severity='error'>\r\n                  <Typography component=\"p\">\r\n                      {hasError}\r\n                  </Typography>\r\n              </Alert>\r\n          </Box>\r\n        }\r\n        <input\r\n          type=\"file\"\r\n          id=\"upload-button\"\r\n          style={{ display: \"none\" }}\r\n          onChange={handleChange}\r\n        />\r\n        <br />\r\n        <TextField \r\n          margin=\"normal\"\r\n          label=\"title\" \r\n          variant=\"outlined\"\r\n          required\r\n          fullWidth\r\n          value={title}\r\n          onChange={e => {setTitle(e.target.value) \r\n                            setHasError(false)}}\r\n        />\r\n        <TextField\r\n          margin=\"normal\"\r\n          label=\"description\"\r\n          multiline\r\n          rows={4}  \r\n          variant=\"outlined\"\r\n          fullWidth\r\n          value={discr}\r\n          onChange={e => {setDiscr(e.target.value) \r\n                            setHasError(false)}}\r\n        />\r\n        <Button onClick={onSubmit} variant=\"contained\" color=\"secondary\" >\r\n          save\r\n        </Button>\r\n      </Grid>\r\n    </MainContainer>\r\n  )\r\n}","import React from 'react';\nimport { BrowserRouter as Router, Switch } from 'react-router-dom';\nimport AppRoute from './AppRoute';\nimport Auth from \"./Auth\";\nimport { Login, Home, Signup, CreatePost, ViewPost, EditePost, Mine} from './pages';\n\n\nclass App extends React.Component{\n  \n  render() {\n    return (\n      <div> \n        <Router>\n          <Switch>\n            <AppRoute path=\"/login\" exact component={Login} can={Auth.guest} redirect=\"/\" />\n            <AppRoute path=\"/signup\" exact component={Signup} can={Auth.guest} redirect=\"/\" />\n            <AppRoute path=\"/\" exact component={Home}  />\n            <AppRoute path=\"/mine\" exact component={Mine} can={Auth.auth} redirect=\"/\"/>\n            <AppRoute path=\"/viewpost\" exact component={ViewPost}/>\n            <AppRoute path=\"/editepost\" exact component={EditePost} can={Auth.auth} redirect=\"/\"/>\n            <AppRoute path=\"/createpost\" exact component={CreatePost} can={Auth.auth} redirect=\"/\"/>\n          </Switch>\n        </Router>\n      </div>\n    );\n  } \n}\n\nexport default App;\n","import { createTheme} from '@material-ui/core/styles';\r\n\r\n// A custom theme for this app\r\nconst theme = createTheme({\r\n    palette: {\r\n        type: \"dark\",\r\n        primary: {\r\n        main: '#556cd6',\r\n        },\r\n        secondary: {\r\n        main: '#19857b',\r\n        },\r\n        black: {\r\n            main: '#19857b',\r\n        },\r\n        error: {\r\n        main: '#19457b',\r\n        },\r\n    },\r\n});\r\n\r\nexport default theme;","import * as React from 'react';\nimport ReactDOM from 'react-dom';\nimport { CssBaseline } from '@material-ui/core';\nimport {ThemeProvider } from '@material-ui/core/styles';\nimport App from './App';\nimport theme from './theme';\n\nReactDOM.render(\n  <ThemeProvider theme={theme}>\n    {/* CssBaseline kickstart an elegant, consistent, and simple baseline to build upon. */}\n    <CssBaseline />\n    <App />\n  </ThemeProvider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}